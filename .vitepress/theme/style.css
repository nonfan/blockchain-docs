/**
 * Customize default theme styling by overriding CSS variables:
 * https://github.com/vuejs/vitepress/blob/main/src/client/theme-default/styles/vars.css
 */

/**
 * Colors
 *
 * Each colors have exact same color scale system with 3 levels of solid
 * colors with different brightness, and 1 soft color.
 *
 * - `XXX-1`: The most solid color used mainly for colored text. It must
 *   satisfy the contrast ratio against when used on top of `XXX-soft`.
 *
 * - `XXX-2`: The color used mainly for hover state of the button.
 *
 * - `XXX-3`: The color for solid background, such as bg color of the button.
 *   It must satisfy the contrast ratio with pure white (#ffffff) text on
 *   top of it.
 *
 * - `XXX-soft`: The color used for subtle background such as custom container
 *   or badges. It must satisfy the contrast ratio when putting `XXX-1` colors
 *   on top of it.
 *
 *   The soft color must be semi transparent alpha channel. This is crucial
 *   because it allows adding multiple "soft" colors on top of each other
 *   to create a accent, such as when having inline code block inside
 *   custom containers.
 *
 * - `default`: The color used purely for subtle indication without any
 *   special meanings attached to it such as bg color for menu hover state.
 *
 * - `brand`: Used for primary brand colors, such as link text, button with
 *   brand theme, etc.
 *
 * - `tip`: Used to indicate useful information. The default theme uses the
 *   brand color for this by default.
 *
 * - `warning`: Used to indicate warning to the users. Used in custom
 *   container, badges, etc.
 *
 * - `danger`: Used to show error, or dangerous message to the users. Used
 *   in custom container, badges, etc.
 * -------------------------------------------------------------------------- */

:root {
    --vp-c-default-1: var(--vp-c-gray-1);
    --vp-c-default-2: var(--vp-c-gray-2);
    --vp-c-default-3: var(--vp-c-gray-3);
    --vp-c-default-soft: var(--vp-c-gray-soft);

    --vp-c-brand-1: var(--vp-c-indigo-1);
    --vp-c-brand-2: var(--vp-c-indigo-2);
    --vp-c-brand-3: var(--vp-c-indigo-3);
    --vp-c-brand-soft: var(--vp-c-indigo-soft);

    --vp-c-tip-1: var(--vp-c-brand-1);
    --vp-c-tip-2: var(--vp-c-brand-2);
    --vp-c-tip-3: var(--vp-c-brand-3);
    --vp-c-tip-soft: var(--vp-c-brand-soft);

    --vp-c-warning-1: var(--vp-c-yellow-1);
    --vp-c-warning-2: var(--vp-c-yellow-2);
    --vp-c-warning-3: var(--vp-c-yellow-3);
    --vp-c-warning-soft: var(--vp-c-yellow-soft);

    --vp-c-danger-1: var(--vp-c-red-1);
    --vp-c-danger-2: var(--vp-c-red-2);
    --vp-c-danger-3: var(--vp-c-red-3);
    --vp-c-danger-soft: var(--vp-c-red-soft);

    --vp-hero-glow-color: #f7931a;
    --vp-img-border-color: rgba(0,0,0,0.08);
    --vp-img-view-icon-color: rgba(0,0,0,0.6);
}

.VPHero .image .image-container { position: relative; }
.VPHero .image .image-src { display: block; filter: drop-shadow(0 0 28px color-mix(in oklab, var(--vp-hero-glow-color) 40%, transparent)); }
.VPHero .image .image-container::after { content: ""; position: absolute; inset: -22px; border-radius: 22px; background: radial-gradient(260px circle at 50% 50%, color-mix(in oklab, var(--vp-hero-glow-color) 28%, transparent) 0%, transparent 62%); filter: blur(28px); opacity: .9; animation: pulse 8s ease-in-out infinite; z-index: 0; }
@keyframes pulse { 0%,100% { transform: scale(1); opacity:.6; } 50% { transform: scale(1.06); opacity:.95; } }

/**
 * Component: Button
 * -------------------------------------------------------------------------- */

:root {
    --vp-button-brand-border: transparent;
    --vp-button-brand-text: var(--vp-c-white);
    --vp-button-brand-bg: var(--vp-c-brand-3);
    --vp-button-brand-hover-border: transparent;
    --vp-button-brand-hover-text: var(--vp-c-white);
    --vp-button-brand-hover-bg: var(--vp-c-brand-2);
    --vp-button-brand-active-border: transparent;
    --vp-button-brand-active-text: var(--vp-c-white);
    --vp-button-brand-active-bg: var(--vp-c-brand-1);
}



/**
 * Component: Home
 * -------------------------------------------------------------------------- */


@media (min-width: 640px) {
    :root {
        --vp-home-hero-image-filter: blur(56px);
    }
}

@media (min-width: 960px) {
    :root {
        --vp-home-hero-image-filter: blur(68px);
    }
}

/**
 * Component: Custom Block
 * -------------------------------------------------------------------------- */

:root {
    --vp-custom-block-tip-border: transparent;
    --vp-custom-block-tip-text: var(--vp-c-text-1);
    --vp-custom-block-tip-bg: var(--vp-c-brand-soft);
    --vp-custom-block-tip-code-bg: var(--vp-c-brand-soft);
}

/**
 * Component: Algolia
 * -------------------------------------------------------------------------- */
:root {
    --warning-strong-color: #d4a200;
    --danger-strong-color: #d62839;
}
.dark {
    --warning-strong-color: #ffb703;
    --danger-strong-color: #ff4d6d;
}


.DocSearch {
    --docsearch-primary-color: var(--vp-c-brand-1) !important;
}

.dark {
    --vp-hero-glow-color: #ffb347;
}

strong {
    color: var(--vp-code-color);
}

.warning strong {
    color: var(--warning-strong-color);
}

.danger strong {
    color: var(--danger-strong-color);
}


.flex {
    display: flex;
    align-items: center;
    column-gap: 5px;
}

img {
    border-radius: 10px;
    border: 1px solid var(--vp-img-border-color);
}

.zoomable-img {
    cursor: zoom-in;
    transition: transform .2s ease;
    position: relative;
    display: inline-block;
}
.zoomable-img:hover {
    transform: scale(1.02);
}
.zoomable-img::after {
    content: "";
    position: absolute;
    right: 10px;
    bottom: 10px;
    width: 28px;
    height: 28px;
    background: var(--vp-img-view-icon-color);
    opacity: 0;
    transform: scale(0.96);
    transition: opacity .15s ease, transform .15s ease;
    mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 5c-5.5 0-9.5 7-9.5 7s4 7 9.5 7 9.5-7 9.5-7-4-7-9.5-7zm0 11a4 4 0 110-8 4 4 0 010 8z"/></svg>') no-repeat center / contain;
    -webkit-mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 5c-5.5 0-9.5 7-9.5 7s4 7 9.5 7 9.5-7 9.5-7-4-7-9.5-7zm0 11a4 4 0 110-8 4 4 0 010 8z"/></svg>') no-repeat center / contain;
    pointer-events: none;
}
.zoomable-img:hover::after {
    opacity: .9;
    transform: scale(1);
}
.img-zoom-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.78);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 9999;
}
.img-zoom-overlay.active {
    display: flex;
}
.img-zoom-view {
    max-width: 92vw;
    max-height: 92vh;
    border-radius: 16px;
    box-shadow: 0 12px 40px rgba(0,0,0,0.35);
    border: 1px solid var(--vp-img-border-color);
}
.dark .img-zoom-overlay {
    background: rgba(0,0,0,0.86);
}

.dark {
    --vp-img-border-color: rgba(255,255,255,0.16);
    --vp-img-view-icon-color: rgba(255,255,255,0.85);
}
.dark .vp-doc img,
.dark .VPDoc img {
    filter: brightness(0.88) contrast(0.98) saturate(0.94);
    transition: filter .2s ease;
}
.dark .img-zoom-view {
    filter: none;
}


/**
 * Component: Github 复选框
 * -------------------------------------------------------------------------- */

.task-list {
    list-style: none;
    padding-left: 0;
}
.task-list-item {
    display: flex;
    align-items: flex-start;
    gap: 0.5rem;
}
.task-list-item > input[type="checkbox"] {
    margin: 0.15rem 0 0 0;
    /* 可调整大小/对齐 */
}

/* Mermaid 图表整体容器优化 */
.mermaid {
    margin: 1rem 0;
}

/* Mermaid SVG 自适应父容器宽度 */
.mermaid svg {
    display: block;
    height: auto;
    width: 100% !important;
    max-width: 100%;
}

/* 节点阴影与圆角（尽量提升观感） */
.mermaid svg .node rect,
.mermaid svg .cluster rect,
.mermaid svg .label rect {
    rx: 8px;
    ry: 8px;
    filter: drop-shadow(0 2px 6px rgba(0,0,0,0.08));
}

/* 线条细化 */
.mermaid svg .edgePath .path,
.mermaid svg .flowchart-link {
    stroke-width: 1.5px;
}

/* 箭头更清晰 */
.mermaid svg .arrowheadPath {
    stroke-width: 1.5px;
}

/* 深色模式下的额外对比优化 */
.dark .mermaid svg .node rect,
.dark .mermaid svg .cluster rect,
.dark .mermaid svg .label rect {
    filter: drop-shadow(0 2px 6px rgba(0,0,0,0.25));
}
